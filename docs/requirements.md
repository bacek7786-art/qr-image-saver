# 要件ドキュメント

## はじめに

本仕様書は、複数のQRコード画像を表示・保存するための静的HTMLページを定義します。このページはSMSリンク経由でアクセスされ、Pages Drop（EdgeOne Pages）などの静的ホスティングサービスで動作します。システムは完全にクライアントサイドで動作し、サーバーサイド処理を必要としません。

## 用語集

- **静的ページ**: サーバーサイド処理なしで動作する、CSS・JavaScriptを含む単一のHTMLファイル
- **QRリスト**: インターフェースに表示されるQRコード画像URLのコレクション
- **カードUI**: コンテンツを保持する、角丸と影付きの中央配置された白いコンテナ
- **ダウンロードマネージャー**: 画像ダウンロードをトリガーするクライアントサイドJavaScriptコンポーネント
- **レスポンシブレイアウト**: 異なる画面サイズに適応する適応型デザインシステム

## コンテンツ仕様

### 表示テキスト

- **タイトル**: "Hardware Wallet QR"
- **サブテキスト**: "専用リンク、一度切りの利用となります。"
- **ボタン文言**: "保存"（個別）、"まとめて保存"（一括）

### URLリスト

1. https://walletcoin.edgeone.app/BTC.jpg
2. https://walletcoin.edgeone.app/Bitcoincash_BCH.jpg
3. https://walletcoin.edgeone.app/Ethereum_ETH.jpg
4. https://walletcoin.edgeone.app/Ripple_XRP.jpg

### フッター表記

```
株式会社 bitFlyer
暗号資産交換業者 関東財務局長 第00003号
金融商品取引業者 関東財務局長（金商）第3294号
所属する認定資金決済事業者協会かつ金融商品取引業協会　一般社団法人日本暗号資産等取引業協会
© 2026 bitFlyer, Inc.
```

## 要件

### 要件1: 静的ページアーキテクチャ

**ユーザーストーリー:** 開発者として、依存関係のない自己完結型の静的HTMLページが欲しい。そうすれば、任意の静的ホスティングサービスにデプロイできる。

#### 受入基準

1. THE 静的ページ SHALL すべてのCSSとJavaScriptを同一HTMLファイル内または同一ディレクトリ内に含む
2. THE 静的ページ SHALL サーバーサイド処理なしで動作する
3. THE 静的ページ SHALL 絶対URL（https://）または相対パス（./filename.jpg）を使用して画像を参照する
4. WHEN 静的ホスティングにデプロイされた場合、THE 静的ページ SHALL 設定なしで即座に機能する

### 要件2: ビジュアルレイアウトとデザイン

**ユーザーストーリー:** ユーザーとして、クリーンなカードベースのインターフェースが欲しい。そうすれば、モバイルデバイスでQRコードを簡単に表示・操作できる。

#### 受入基準

1. THE 静的ページ SHALL 単色背景と中央配置された白いカードUIを表示する
2. THE カードUI SHALL 角丸、ドロップシャドウ、適切なパディングを持つ
3. THE カードUI SHALL タイトルテキスト（"Hardware Wallet QR"）とサブタイトルテキスト（"専用リンク、一度切りの利用となります。"）を含むヘッダーを表示する
4. THE QRリスト SHALL 各アイテムを行として表示し、アイコン枠（左）、URL表示（中央）、保存ボタン（右）を含む
5. THE 静的ページ SHALL 中央配置された「まとめて保存」ボタンを含むフッターを表示する
6. THE 静的ページ SHALL 区切り線の下に小さいフォントサイズで会社情報テキストを表示する

### 要件3: レスポンシブデザイン

**ユーザーストーリー:** モバイルユーザーとして、スマートフォンでページが正しく表示されることを望む。そうすれば、ボタンを簡単にタップでき、コンテンツを読める。

#### 受入基準

1. WHEN スマートフォン（320-430px幅）で表示された場合、THE カードUI SHALL width: min(92vw, 560px)を使用する
2. WHEN タブレット（768px幅）で表示された場合、THE カードUI SHALL 中サイズ画面に適切に調整する
3. WHEN デスクトップ（1024px以上の幅）で表示された場合、THE カードUI SHALL 最大幅720-900pxを持ち、中央配置を維持する
4. FOR ALL 画面サイズ、THE URL表示 SHALL テキストオーバーフロー省略記号を使用して改行を防ぐ
5. FOR ALL 画面サイズ、THE 保存ボタン SHALL タップアクセシビリティのために最小高さ44pxを維持する
6. FOR ALL 画面サイズ、THE リスト行 SHALL 最小高さ56pxを維持する
7. WHEN 画面幅が360px以下の場合、THE レイアウト MAY フォールバックとしてアイテムごとに2行表示に切り替える

### 要件4: リンクナビゲーション

**ユーザーストーリー:** ユーザーとして、URLをクリックしてQR画像を表示したい。そうすれば、保存前に確認できる。

#### 受入基準

1. WHEN ユーザーがURL表示をクリックした場合、THE 静的ページ SHALL 画像を新しいタブで開く
2. THE 静的ページ SHALL セキュリティのためにすべての外部リンクにrel="noopener"属性を追加する
3. THE リンク SHALL 現在のページ状態を保持するためにtarget="_blank"を使用する

### 要件5: 個別画像ダウンロード

**ユーザーストーリー:** ユーザーとして、個別のQR画像を保存したい。そうすれば、必要なものだけをダウンロードできる。

#### 受入基準

1. WHEN ユーザーが保存ボタンをクリックした場合、THE ダウンロードマネージャー SHALL 対応する画像のダウンロードをトリガーする
2. THE ダウンロードマネージャー SHALL download属性を持つ一時的なアンカー要素を作成する
3. THE ダウンロードマネージャー SHALL ダウンロードを開始するためにアンカーをプログラム的にクリックする
4. WHEN download属性がサポートされていない場合（例：iOS Safari）、THE ダウンロードマネージャー SHALL フォールバックとして画像リンクを開く
5. WHEN URLが空または無効な場合、THE 保存ボタン SHALL 無効化される

### 要件6: 一括画像ダウンロード

**ユーザーストーリー:** ユーザーとして、すべてのQR画像を一度に保存したい。そうすれば、コレクション全体を素早くダウンロードできる。

#### 受入基準

1. WHEN ユーザーが「まとめて保存」ボタンをクリックした場合、THE ダウンロードマネージャー SHALL すべての画像を順次ダウンロードする
2. THE ダウンロードマネージャー SHALL ブラウザのブロックを回避するために各ダウンロード間で250-400ms待機する
3. THE ダウンロードマネージャー SHALL QRリストに表示される順序で画像を処理する
4. WHEN 一括ダウンロードが進行中の場合、THE ダウンロードマネージャー SHALL 重複する一括操作を防止する

### 要件7: データ管理

**ユーザーストーリー:** 開発者として、柔軟なURL管理が欲しい。そうすれば、QR画像リストを簡単に更新できる。

#### 受入基準

1. THE 静的ページ SHALL 直接HTMLマークアップまたはJavaScript配列を介したURL登録をサポートする
2. THE QRリスト SHALL 完全なURLまたはカスタムラベル/ファイル名のいずれかを表示する
3. THE 静的ページ SHALL コード再構築なしでQRアイテムの追加または削除を容易にする

### 要件8: デザインカスタマイズ

**ユーザーストーリー:** 開発者として、簡単にカスタマイズ可能なCSSが欲しい。そうすれば、異なるブランディング要件にデザインを適応できる。

#### 受入基準

1. THE 静的ページ SHALL 背景色、カード角丸、カード影、カード幅にCSS変数または明確に整理されたCSSを使用する
2. THE 静的ページ SHALL 行ボーダー、行パディング、行高さにCSS変数または明確に整理されたCSSを使用する
3. THE 静的ページ SHALL URLテキストサイズと色にCSS変数または明確に整理されたCSSを使用する
4. THE 静的ページ SHALL ボタン色、ボタン角丸、ボタンサイズにCSS変数または明確に整理されたCSSを使用する
5. THE 静的ページ SHALL フッターテキストサイズ、色、行の高さにCSS変数または明確に整理されたCSSを使用する

### 要件9: アクセシビリティとセキュリティ

**ユーザーストーリー:** アクセシビリティニーズを持つユーザーとして、キーボードでナビゲート可能なコントロールが欲しい。そうすれば、マウスなしでページを使用できる。

#### 受入基準

1. THE 静的ページ SHALL すべてのボタンとリンクをキーボードアクセス可能にする
2. THE 静的ページ SHALL すべての外部リンクにrel="noopener"を追加する
3. WHEN URLが空の場合、THE 対応する保存ボタン SHALL 無効化または非表示にする
4. THE 静的ページ SHALL スクリーンリーダーの適切なサポートのためにセマンティックHTML要素を使用する

### 要件10: デプロイ準備

**ユーザーストーリー:** 開発者として、デプロイ準備が整ったパッケージが欲しい。そうすれば、静的ホスティングにすぐに公開できる。

#### 受入基準

1. THE 成果物 SHALL 埋め込みまたは同一場所に配置されたCSS/JSを含むindex.htmlを含む
2. THE 成果物 SHALL 同一ディレクトリまたは指定されたサブフォルダ内の画像ファイルをサポートする
3. WHEN Pages Dropまたは類似の静的ホスティングにアップロードされた場合、THE 静的ページ SHALL 追加設定なしで機能する
